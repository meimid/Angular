<mat-toolbar color="primary">
  <mat-toolbar-row>   
  </mat-toolbar-row>
</mat-toolbar>

<div  fxLayout="row"  fxLayoutWrap="wrap"  fxLayoutAlign="center start">

  <div fxFlex.gt-sm="55" fxFlex="100">  
    <mat-card class="mat-card-top">
      
       
		  <div align="center" *ngIf="newVille">
		 <h1> {{'ADDVILLE' | translate }}</h1>
		  </div>
		  <div align="center" *ngIf="!newVille">
		 <h1> {{'ModifyVille' | translate }}</h1>
		  </div>
		
		
          <mat-card-content>
		  <form  fxLayout="column" (ngSubmit)="onSubmit(form.value)" [formGroup]="form" >
		         <div class="example-container">
  <mat-form-field>
    <input matInput placeholder=" {{'libelle' | translate }}  " [formControl]="form.controls['libelle']">
	<mat-hint>{{'REQUIRE' | translate }}</mat-hint>
  </mat-form-field>

  
  <mat-form-field>
    <input matInput [readonly]="!newVille" placeholder=" {{'code' | translate }}  " [formControl]="form.controls['codePostal']"  >
	<mat-hint>{{'FACULTAIVE' | translate }}</mat-hint>
  </mat-form-field>

 
  
</div>
           
		   <div>
		   <div>
 <mat-form-field>
     <mat-select placeholder="{{'State' | translate }}" #select="matSelect" [formControl]="form.controls['code']"  >
    
   <mat-option value="{{row.code}}" *ngFor="let row of AllState">{{row.libelle}}</mat-option>
               		   
  </mat-select>
  </mat-form-field>
</div>
		   </div>
		
           </form>
          </mat-card-content>
      
      <hr>
      <mat-card-actions>
	  
	   <div align="center">
		   <button mat-raised-button class="shadow-none" color="primary" (click)="doSaveVille()" >{{"SAVE" | translate}}</button>
        <button mat-raised-button color="red" (click)="redirect()">{{"Cancel" | translate}}</button>
		
		  </div>
     
		
		
		
      </mat-card-actions>
    </mat-card>
	 
  </div>
</div>
<div   >
<mat-card-content *ngIf="products?.length > 0 ">
<ngx-datatable
  class="material"
  [rows]="products" 
  [columnMode]="'force'"
  [headerHeight]="50"
  [footerHeight]="50"
  [rowHeight]="'auto'"
  >
   <ngx-datatable-column name="{{'codePostal' | translate }}" prop="codePostal" ></ngx-datatable-column>
   <ngx-datatable-column name="{{'libelle' | translate }}" prop="libelle" ></ngx-datatable-column>
    <ngx-datatable-column name="{{'state' | translate }}" prop="refProduct" ></ngx-datatable-column>
   <ngx-datatable-column name="{{'ModifyProduct' | translate }}" prop="state.libelle" >
           <ng-template  let-row="row"  ngx-datatable-cell-template>
		    <mat-icon   (click)="updateProduct(row)">edit</mat-icon>
		   
          </ng-template>   
  </ngx-datatable-column>  
   
</ngx-datatable>
</mat-card-content>
</div>